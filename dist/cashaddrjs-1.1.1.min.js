/*! For license information please see cashaddrjs-1.1.1.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cashaddr=e():t.cashaddr=e()}(this,(()=>(()=>{var t={96:(t,e,r)=>{var n;t=r.nmd(t);var o=function(t){"use strict";var e=1e7,r=9007199254740992,n=f(r),i=Math.log(r);function s(t,e){return void 0===t?s[0]:void 0!==e?10===+e?K(t):J(t,e):K(t)}function a(t,e){this.value=t,this.sign=e,this.isSmall=!1}function u(t){this.value=t,this.sign=t<0,this.isSmall=!0}function p(t){return-r<t&&t<r}function f(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function h(t){l(t);var r=t.length;if(r<4&&I(t,n)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function l(t){for(var e=t.length;0===t[--e];);t.length=e+1}function c(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function v(t){return t>0?Math.floor(t):Math.ceil(t)}function y(t,r){var n,o,i=t.length,s=r.length,a=new Array(i),u=0,p=e;for(o=0;o<s;o++)u=(n=t[o]+r[o]+u)>=p?1:0,a[o]=n-u*p;for(;o<i;)u=(n=t[o]+u)===p?1:0,a[o++]=n-u*p;return u>0&&a.push(u),a}function g(t,e){return t.length>=e.length?y(t,e):y(e,t)}function d(t,r){var n,o,i=t.length,s=new Array(i),a=e;for(o=0;o<i;o++)n=t[o]-a+r,r=Math.floor(n/a),s[o]=n-r*a,r+=1;for(;r>0;)s[o++]=r%a,r=Math.floor(r/a);return s}function w(t,r){var n,o,i=t.length,s=r.length,a=new Array(i),u=0,p=e;for(n=0;n<s;n++)(o=t[n]-u-r[n])<0?(o+=p,u=1):u=0,a[n]=o;for(n=s;n<i;n++){if(!((o=t[n]-u)<0)){a[n++]=o;break}o+=p,a[n]=o}for(;n<i;n++)a[n]=t[n];return l(a),a}function m(t,r,n){var o,i,s=t.length,p=new Array(s),f=-r,l=e;for(o=0;o<s;o++)i=t[o]+f,f=Math.floor(i/l),i%=l,p[o]=i<0?i+l:i;return"number"==typeof(p=h(p))?(n&&(p=-p),new u(p)):new a(p,n)}function b(t,r){var n,o,i,s,a=t.length,u=r.length,p=c(a+u),f=e;for(i=0;i<a;++i){s=t[i];for(var h=0;h<u;++h)n=s*r[h]+p[i+h],o=Math.floor(n/f),p[i+h]=n-o*f,p[i+h+1]+=o}return l(p),p}function A(t,r){var n,o,i=t.length,s=new Array(i),a=e,u=0;for(o=0;o<i;o++)n=t[o]*r+u,u=Math.floor(n/a),s[o]=n-u*a;for(;u>0;)s[o++]=u%a,u=Math.floor(u/a);return s}function E(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function x(t,e){var r=Math.max(t.length,e.length);if(r<=30)return b(t,e);r=Math.ceil(r/2);var n=t.slice(r),o=t.slice(0,r),i=e.slice(r),s=e.slice(0,r),a=x(o,s),u=x(n,i),p=x(g(o,n),g(s,i)),f=g(g(a,E(w(w(p,a),u),r)),E(u,2*r));return l(f),f}function M(t,r,n){return new a(t<e?A(r,t):b(r,f(t)),n)}function S(t){var r,n,o,i,s=t.length,a=c(s+s),u=e;for(o=0;o<s;o++){n=0-(i=t[o])*i;for(var p=o;p<s;p++)r=i*t[p]*2+a[o+p]+n,n=Math.floor(r/u),a[o+p]=r-n*u;a[o+s]=n}return l(a),a}function U(t,r){var n,o,i,s,a=t.length,u=c(a),p=e;for(i=0,n=a-1;n>=0;--n)i=(s=i*p+t[n])-(o=v(s/r))*r,u[n]=0|o;return[u,0|i]}function q(t,r){var n,o,i=K(r),p=t.value,y=i.value;if(0===y)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new u(v(p/y)),new u(p%y)]:[s[0],t];if(i.isSmall){if(1===y)return[t,s[0]];if(-1==y)return[t.negate(),s[0]];var g=Math.abs(y);if(g<e){o=h((n=U(p,g))[0]);var d=n[1];return t.sign&&(d=-d),"number"==typeof o?(t.sign!==i.sign&&(o=-o),[new u(o),new u(d)]):[new a(o,t.sign!==i.sign),new u(d)]}y=f(g)}var m=I(p,y);if(-1===m)return[s[0],t];if(0===m)return[s[t.sign===i.sign?1:-1],s[0]];n=p.length+y.length<=200?function(t,r){var n,o,i,s,a,u,p,f=t.length,l=r.length,v=e,y=c(r.length),g=r[l-1],d=Math.ceil(v/(2*g)),w=A(t,d),m=A(r,d);for(w.length<=f&&w.push(0),m.push(0),g=m[l-1],o=f-l;o>=0;o--){for(n=v-1,w[o+l]!==g&&(n=Math.floor((w[o+l]*v+w[o+l-1])/g)),i=0,s=0,u=m.length,a=0;a<u;a++)i+=n*m[a],p=Math.floor(i/v),s+=w[o+a]-(i-p*v),i=p,s<0?(w[o+a]=s+v,s=-1):(w[o+a]=s,s=0);for(;0!==s;){for(n-=1,i=0,a=0;a<u;a++)(i+=w[o+a]-v+m[a])<0?(w[o+a]=i+v,i=0):(w[o+a]=i,i=1);s+=i}y[o]=n}return w=U(w,d)[0],[h(y),h(w)]}(p,y):function(t,r){for(var n,o,i,s,a,u=t.length,p=r.length,f=[],c=[],v=e;u;)if(c.unshift(t[--u]),l(c),I(c,r)<0)f.push(0);else{i=c[(o=c.length)-1]*v+c[o-2],s=r[p-1]*v+r[p-2],o>p&&(i=(i+1)*v),n=Math.ceil(i/s);do{if(I(a=A(r,n),c)<=0)break;n--}while(n);f.push(n),c=w(c,a)}return f.reverse(),[h(f),h(c)]}(p,y),o=n[0];var b=t.sign!==i.sign,E=n[1],x=t.sign;return"number"==typeof o?(b&&(o=-o),o=new u(o)):o=new a(o,b),"number"==typeof E?(x&&(E=-E),E=new u(E)):E=new a(E,x),[o,E]}function I(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function N(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function O(t,e){for(var r,n,i,a=t.prev(),u=a,p=0;u.isEven();)u=u.divide(2),p++;t:for(n=0;n<e.length;n++)if(!t.lesser(e[n])&&!(i=o(e[n]).modPow(u,t)).equals(s[1])&&!i.equals(a)){for(r=p-1;0!=r;r--){if((i=i.square().mod(t)).isUnit())return!1;if(i.equals(a))continue t}return!1}return!0}a.prototype=Object.create(s.prototype),u.prototype=Object.create(s.prototype),a.prototype.add=function(t){var e=K(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new a(d(r,Math.abs(n)),this.sign):new a(g(r,n),this.sign)},a.prototype.plus=a.prototype.add,u.prototype.add=function(t){var e=K(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(p(r+n))return new u(r+n);n=f(Math.abs(n))}return new a(d(n,Math.abs(r)),r<0)},u.prototype.plus=u.prototype.add,a.prototype.subtract=function(t){var e=K(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?m(r,Math.abs(n),this.sign):function(t,e,r){var n;return I(t,e)>=0?n=w(t,e):(n=w(e,t),r=!r),"number"==typeof(n=h(n))?(r&&(n=-n),new u(n)):new a(n,r)}(r,n,this.sign)},a.prototype.minus=a.prototype.subtract,u.prototype.subtract=function(t){var e=K(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new u(r-n):m(n,Math.abs(r),r>=0)},u.prototype.minus=u.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},u.prototype.negate=function(){var t=this.sign,e=new u(-this.value);return e.sign=!t,e},a.prototype.abs=function(){return new a(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},a.prototype.multiply=function(t){var r,n,o,i=K(t),u=this.value,p=i.value,h=this.sign!==i.sign;if(i.isSmall){if(0===p)return s[0];if(1===p)return this;if(-1===p)return this.negate();if((r=Math.abs(p))<e)return new a(A(u,r),h);p=f(r)}return new a(-.012*(n=u.length)-.012*(o=p.length)+15e-6*n*o>0?x(u,p):b(u,p),h)},a.prototype.times=a.prototype.multiply,u.prototype._multiplyBySmall=function(t){return p(t.value*this.value)?new u(t.value*this.value):M(Math.abs(t.value),f(Math.abs(this.value)),this.sign!==t.sign)},a.prototype._multiplyBySmall=function(t){return 0===t.value?s[0]:1===t.value?this:-1===t.value?this.negate():M(Math.abs(t.value),this.value,this.sign!==t.sign)},u.prototype.multiply=function(t){return K(t)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,a.prototype.square=function(){return new a(S(this.value),!1)},u.prototype.square=function(){var t=this.value*this.value;return p(t)?new u(t):new a(S(f(Math.abs(this.value))),!1)},a.prototype.divmod=function(t){var e=q(this,t);return{quotient:e[0],remainder:e[1]}},u.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(t){return q(this,t)[0]},u.prototype.over=u.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(t){return q(this,t)[1]},u.prototype.remainder=u.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(t){var e,r,n,o=K(t),i=this.value,a=o.value;if(0===a)return s[1];if(0===i)return s[0];if(1===i)return s[1];if(-1===i)return o.isEven()?s[1]:s[-1];if(o.sign)return s[0];if(!o.isSmall)throw new Error("The exponent "+o.toString()+" is too large.");if(this.isSmall&&p(e=Math.pow(i,a)))return new u(v(e));for(r=this,n=s[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},u.prototype.pow=a.prototype.pow,a.prototype.modPow=function(t,e){if(t=K(t),(e=K(e)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=s[1],n=this.mod(e);t.isPositive();){if(n.isZero())return s[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},u.prototype.modPow=a.prototype.modPow,a.prototype.compareAbs=function(t){var e=K(t),r=this.value,n=e.value;return e.isSmall?1:I(r,n)},u.prototype.compareAbs=function(t){var e=K(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},a.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=K(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:I(r,n)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=K(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},u.prototype.compareTo=u.prototype.compare,a.prototype.equals=function(t){return 0===this.compare(t)},u.prototype.eq=u.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(t){return 0!==this.compare(t)},u.prototype.neq=u.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(t){return this.compare(t)>0},u.prototype.gt=u.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(t){return this.compare(t)<0},u.prototype.lt=u.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},u.prototype.geq=u.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},u.prototype.leq=u.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return!(1&this.value[0])},u.prototype.isEven=function(){return!(1&this.value)},a.prototype.isOdd=function(){return!(1&~this.value[0])},u.prototype.isOdd=function(){return!(1&~this.value)},a.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},a.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},a.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return 1===Math.abs(this.value)},a.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return 0===this.value},a.prototype.isDivisibleBy=function(t){var e=K(t),r=e.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(e).equals(s[0])))},u.prototype.isDivisibleBy=a.prototype.isDivisibleBy,a.prototype.isPrime=function(e){var r=N(this);if(r!==t)return r;var n=this.abs(),i=n.bitLength();if(i<=64)return O(n,[2,325,9375,28178,450775,9780504,1795265022]);for(var s=Math.log(2)*i,a=Math.ceil(!0===e?2*Math.pow(s,2):s),u=[],p=0;p<a;p++)u.push(o(p+2));return O(n,u)},u.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(e){var r=N(this);if(r!==t)return r;for(var n=this.abs(),i=e===t?5:e,s=[],a=0;a<i;a++)s.push(o.randBetween(2,n.minus(2)));return O(n,s)},u.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(t){for(var e,r,n,i=o.zero,s=o.one,a=K(t),u=this.abs();!u.equals(o.zero);)e=a.divide(u),r=i,n=a,i=s,a=u,s=r.subtract(e.multiply(s)),u=n.subtract(e.multiply(u));if(!a.equals(1))throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(t)),this.isNegative()?i.negate():i},u.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var t=this.value;return this.sign?m(t,1,this.sign):new a(d(t,1),this.sign)},u.prototype.next=function(){var t=this.value;return t+1<r?new u(t+1):new a(n,!1)},a.prototype.prev=function(){var t=this.value;return this.sign?new a(d(t,1),!0):m(t,1,this.sign)},u.prototype.prev=function(){var t=this.value;return t-1>-r?new u(t-1):new a(n,!0)};for(var L=[1];2*L[L.length-1]<=e;)L.push(2*L[L.length-1]);var P=L.length,B=L[P-1];function C(t){return("number"==typeof t||"string"==typeof t)&&+Math.abs(t)<=e||t instanceof a&&t.value.length<=1}function k(t,e,r){e=K(e);for(var n=t.isNegative(),i=e.isNegative(),s=n?t.not():t,a=i?e.not():e,u=0,p=0,f=null,h=null,l=[];!s.isZero()||!a.isZero();)u=(f=q(s,B))[1].toJSNumber(),n&&(u=B-1-u),p=(h=q(a,B))[1].toJSNumber(),i&&(p=B-1-p),s=f[0],a=h[0],l.push(r(u,p));for(var c=0!==r(n?1:0,i?1:0)?o(-1):o(0),v=l.length-1;v>=0;v-=1)c=c.multiply(B).add(o(l[v]));return c}a.prototype.shiftLeft=function(t){if(!C(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftRight(-t);var e=this;if(e.isZero())return e;for(;t>=P;)e=e.multiply(B),t-=P-1;return e.multiply(L[t])},u.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(t){var e;if(!C(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftLeft(-t);for(var r=this;t>=P;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(e=q(r,B))[1].isNegative()?e[0].prev():e[0],t-=P-1}return(e=q(r,L[t]))[1].isNegative()?e[0].prev():e[0]},u.prototype.shiftRight=a.prototype.shiftRight,a.prototype.not=function(){return this.negate().prev()},u.prototype.not=a.prototype.not,a.prototype.and=function(t){return k(this,t,(function(t,e){return t&e}))},u.prototype.and=a.prototype.and,a.prototype.or=function(t){return k(this,t,(function(t,e){return t|e}))},u.prototype.or=a.prototype.or,a.prototype.xor=function(t){return k(this,t,(function(t,e){return t^e}))},u.prototype.xor=a.prototype.xor;var H=1<<30;function j(t){var r=t.value,n="number"==typeof r?r|H:r[0]+r[1]*e|1073758208;return n&-n}function Z(t,e){if(e.compareTo(t)<=0){var r=Z(t,e.square(e)),n=r.p,i=r.e,s=n.multiply(e);return s.compareTo(t)<=0?{p:s,e:2*i+1}:{p:n,e:2*i}}return{p:o(1),e:0}}function z(t,e){return t=K(t),e=K(e),t.greater(e)?t:e}function T(t,e){return t=K(t),e=K(e),t.lesser(e)?t:e}function D(t,e){if(t=K(t).abs(),e=K(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,o=s[1];t.isEven()&&e.isEven();)r=Math.min(j(t),j(e)),t=t.divide(r),e=e.divide(r),o=o.multiply(r);for(;t.isEven();)t=t.divide(j(t));do{for(;e.isEven();)e=e.divide(j(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return o.isUnit()?t:t.multiply(o)}a.prototype.bitLength=function(){var t=this;return t.compareTo(o(0))<0&&(t=t.negate().subtract(o(1))),0===t.compareTo(o(0))?o(0):o(Z(t,o(2)).e).add(o(1))},u.prototype.bitLength=a.prototype.bitLength;var J=function(t,e){for(var r=t.length,n=Math.abs(e),o=0;o<r;o++)if("-"!==(f=t[o].toLowerCase())&&/[a-z0-9]/.test(f)){if(/[0-9]/.test(f)&&+f>=n){if("1"===f&&1===n)continue;throw new Error(f+" is not a valid digit in base "+e+".")}if(f.charCodeAt(0)-87>=n)throw new Error(f+" is not a valid digit in base "+e+".")}if(2<=e&&e<=36&&r<=i/Math.log(e)){var s=parseInt(t,e);if(isNaN(s))throw new Error(f+" is not a valid digit in base "+e+".");return new u(parseInt(t,e))}e=K(e);var a=[],p="-"===t[0];for(o=p?1:0;o<t.length;o++){var f,h=(f=t[o].toLowerCase()).charCodeAt(0);if(48<=h&&h<=57)a.push(K(f));else if(97<=h&&h<=122)a.push(K(f.charCodeAt(0)-87));else{if("<"!==f)throw new Error(f+" is not a valid character");var l=o;do{o++}while(">"!==t[o]);a.push(K(t.slice(l+1,o)))}}return R(a,e,p)};function R(t,e,r){var n,o=s[0],i=s[1];for(n=t.length-1;n>=0;n--)o=o.add(t[n].times(i)),i=i.times(e);return r?o.negate():o}function V(t){return t<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t):"<"+t+">"}function F(t,e){if((e=o(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+t-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(t.isNegative()&&e.isPositive()&&(n=!0,t=t.abs()),e.equals(1))return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+t)).map(Number.prototype.valueOf,1),isNegative:n};for(var i,s=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){i=a.divmod(e),a=i.quotient;var u=i.remainder;u.isNegative()&&(u=e.minus(u).abs(),a=a.next()),s.push(u.toJSNumber())}return s.push(a.toJSNumber()),{value:s.reverse(),isNegative:n}}function _(t,e){var r=F(t,e);return(r.isNegative?"-":"")+r.value.map(V).join("")}function G(t){if(p(+t)){var e=+t;if(e===v(e))return new u(e);throw new Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var n=t.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var o=n[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==v(o)||!p(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var i=n[0],s=i.indexOf(".");if(s>=0&&(o-=i.length-s-1,i=i.slice(0,s)+i.slice(s+1)),o<0)throw new Error("Cannot include negative exponent part for integers");t=i+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);for(var f=[],h=t.length,c=h-7;h>0;)f.push(+t.slice(c,h)),(c-=7)<0&&(c=0),h-=7;return l(f),new a(f,r)}function K(t){return"number"==typeof t?function(t){if(p(t)){if(t!==v(t))throw new Error(t+" is not an integer.");return new u(t)}return G(t.toString())}(t):"string"==typeof t?G(t):t}a.prototype.toArray=function(t){return F(this,t)},u.prototype.toArray=function(t){return F(this,t)},a.prototype.toString=function(e){if(e===t&&(e=10),10!==e)return _(this,e);for(var r,n=this.value,o=n.length,i=String(n[--o]);--o>=0;)r=String(n[o]),i+="0000000".slice(r.length)+r;return(this.sign?"-":"")+i},u.prototype.toString=function(e){return e===t&&(e=10),10!=e?_(this,e):String(this.value)},a.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf;for(var $=0;$<1e3;$++)s[$]=new u($),$>0&&(s[-$]=new u(-$));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=z,s.min=T,s.gcd=D,s.lcm=function(t,e){return t=K(t).abs(),e=K(e).abs(),t.divide(D(t,e)).multiply(e)},s.isInstance=function(t){return t instanceof a||t instanceof u},s.randBetween=function(t,r){var n=T(t=K(t),r=K(r)),o=z(t,r).subtract(n).add(1);if(o.isSmall)return n.add(Math.floor(Math.random()*o));for(var i=[],s=!0,p=o.value.length-1;p>=0;p--){var f=s?o.value[p]:e,l=v(Math.random()*f);i.unshift(l),l<f&&(s=!1)}return i=h(i),n.add("number"==typeof i?new u(i):new a(i,!1))},s.fromArray=function(t,e,r){return R(t.map(K),K(e||10),r)},s}();t.hasOwnProperty("exports")&&(t.exports=o),void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)},209:(t,e,r)=>{"use strict";var n=r(227).validate;t.exports=function(t,e,r,o){for(var i=o?Math.floor(t.length*e/r):Math.ceil(t.length*e/r),s=(1<<r)-1,a=new Uint8Array(i),u=0,p=0,f=0,h=0;h<t.length;++h){var l=t[h];for(n(0<=l&&l>>e===0,"Invalid value: "+l+"."),p=p<<e|l,f+=e;f>=r;)f-=r,a[u]=p>>f&s,++u}return o?n(f<e&&0===(p<<r-f&s),"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):f>0&&(a[u]=p<<r-f&s,++u),a}},220:(t,e,r)=>{"use strict";var n=r(227).validate,o={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};t.exports={encode:function(t){n(t instanceof Uint8Array,"Invalid data: "+t+".");for(var e="",r=0;r<t.length;++r){var o=t[r];n(0<=o&&o<32,"Invalid value: "+o+"."),e+="qpzry9x8gf2tvdw0s3jn54khce6mua7l"[o]}return e},decode:function(t){n("string"==typeof t,"Invalid base32-encoded string: "+t+".");for(var e=new Uint8Array(t.length),r=0;r<t.length;++r){var i=t[r];n(i in o,"Invalid value: "+i+"."),e[r]=o[i]}return e}}},227:t=>{"use strict";function e(t){var e=new Error;this.name=e.name="ValidationError",this.message=e.message=t,this.stack=e.stack}e.prototype=Object.create(Error.prototype),t.exports={ValidationError:e,validate:function(t,r){if(!t)throw new e(r)}}},767:(t,e,r)=>{"use strict";function n(t,...e){if(!((r=t)instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function o(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function i(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function s(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function a(t,e){return t<<32-e|t>>>e}function u(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}(t)),n(t),t}class p{}function f(t){const e=e=>t().update(u(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function h(t,e,r){return t&e^t&r^e&r}class l extends p{constructor(t,e,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(t),this.view=s(this.buffer)}update(t){o(this),n(t=u(t));const{view:e,buffer:r,blockLen:i}=this,a=t.length;for(let n=0;n<a;){const o=Math.min(i-this.pos,a-n);if(o!==i)r.set(t.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=s(t);for(;i<=a-n;n+=i)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){o(this),function(t,e){n(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:a,isLE:u}=this;let{pos:p}=this;e[p++]=128,i(this.buffer.subarray(p)),this.padOffset>a-p&&(this.process(r,0),p=0);for(let t=p;t<a;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),u=n?4:0,p=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+p,a,n)}(r,a-8,BigInt(8*this.length),u),this.process(r,0);const f=s(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=h/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)f.setUint32(4*t,c[t],u)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return t.destroyed=i,t.finished=o,t.length=n,t.pos=s,n%e&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const c=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),v=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y=new Uint32Array(64);class g extends l{constructor(t=32){super(64,t,8,!1),this.A=0|c[0],this.B=0|c[1],this.C=0|c[2],this.D=0|c[3],this.E=0|c[4],this.F=0|c[5],this.G=0|c[6],this.H=0|c[7]}get(){const{A:t,B:e,C:r,D:n,E:o,F:i,G:s,H:a}=this;return[t,e,r,n,o,i,s,a]}set(t,e,r,n,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)y[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=y[t-15],r=y[t-2],n=a(e,7)^a(e,18)^e>>>3,o=a(r,17)^a(r,19)^r>>>10;y[t]=o+y[t-7]+n+y[t-16]|0}let{A:r,B:n,C:o,D:i,E:s,F:u,G:p,H:f}=this;for(let t=0;t<64;t++){const e=f+(a(s,6)^a(s,11)^a(s,25))+((l=s)&u^~l&p)+v[t]+y[t]|0,c=(a(r,2)^a(r,13)^a(r,22))+h(r,n,o)|0;f=p,p=u,u=s,s=i+e|0,i=o,o=n,n=r,r=e+c|0}var l;r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,u=u+this.F|0,p=p+this.G|0,f=f+this.H|0,this.set(r,n,o,i,s,u,p,f)}roundClean(){i(y)}destroy(){this.set(0,0,0,0,0,0,0,0),i(this.buffer)}}const d=f((()=>new g)),w=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let t=0;t<e.length;t++)e[t]=255;for(let r=0;r<t.length;r++){const n=t.charAt(r),o=n.charCodeAt(0);if(255!==e[o])throw new TypeError(n+" is ambiguous");e[o]=r}const r=t.length,n=t.charAt(0),o=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function s(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;let i=0,s=0,a=0;for(;t[i]===n;)s++,i++;const u=(t.length-i)*o+1>>>0,p=new Uint8Array(u);for(;i<t.length;){const n=t.charCodeAt(i);if(n>255)return;let o=e[n];if(255===o)return;let s=0;for(let t=u-1;(0!==o||s<a)&&-1!==t;t--,s++)o+=r*p[t]>>>0,p[t]=o%256>>>0,o=o/256>>>0;if(0!==o)throw new Error("Non-zero carry");a=s,i++}let f=u-a;for(;f!==u&&0===p[f];)f++;const h=new Uint8Array(s+(u-f));let l=s;for(;f!==u;)h[l++]=p[f++];return h}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";let o=0,s=0,a=0;const u=e.length;for(;a!==u&&0===e[a];)a++,o++;const p=(u-a)*i+1>>>0,f=new Uint8Array(p);for(;a!==u;){let t=e[a],n=0;for(let e=p-1;(0!==t||n<s)&&-1!==e;e--,n++)t+=256*f[e]>>>0,f[e]=t%r>>>0,t=t/r>>>0;if(0!==t)throw new Error("Non-zero carry");s=n,a++}let h=p-s;for(;h!==p&&0===f[h];)h++;let l=n.repeat(o);for(;h<p;++h)l+=t.charAt(f[h]);return l},decodeUnsafe:s,decode:function(t){const e=s(t);if(e)return e;throw new Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),m=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),o=t(r);if(!(n[0]^o[0]|n[1]^o[1]|n[2]^o[2]|n[3]^o[3]))return r}return{encode:function(e){var r=Uint8Array.from(e),n=t(r),o=r.length+4,i=new Uint8Array(o);return i.set(r,0),i.set(n.subarray(0,4),r.length),w.encode(i)},decode:function(t){var r=e(w.decode(t));if(null==r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=w.decodeUnsafe(t);if(null!=r)return e(r)}}}((function(t){return d(d(t))}));t=r.hmd(t);var b=r(220),A=r(96),E=r(209),x=r(227),M=x.validate;function S(t,e,r){M("string"==typeof t&&function(t){return C(t)&&-1!==I.indexOf(t.toLowerCase())}(t),"Invalid prefix: "+t+"."),M("string"==typeof e,"Invalid type: "+e+"."),M(r instanceof Uint8Array||"string"==typeof r,"Invalid hash: "+r+". Must be string or Uint8Array."),"string"==typeof r&&(r=function(t){const e=Buffer.from(t,"hex"),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let t=0;t<n.length;t+=1)n[t]=e[t];return n}(r));var n,o=L(O(t),new Uint8Array(1)),i=function(t){switch(t){case"p2pkh":case"P2PKH":return 0;case"p2sh":case"P2SH":return 8;default:throw new q("Invalid type: "+t+".")}}(e)+function(t){switch(8*t.length){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new q("Invalid hash size: "+t.length+".")}}(r),s=(n=L(new Uint8Array([i]),r),E(n,8,5)),a=L(L(o,s),new Uint8Array(8)),u=L(s,function(t){for(var e=new Uint8Array(8),r=0;r<8;++r)e[7-r]=t.and(31).toJSNumber(),t=t.shiftRight(5);return e}(P(a)));return t+":"+b.encode(u)}function U(t,e=!1){M("string"==typeof t&&C(t),"Invalid address: "+t+".");var r=t.toLowerCase().split(":");let n,o;if(1===r.length){let e=!1;for(let t=0;t<I.length;t+=1){const i=I[t],s=b.decode(r[0]);if(e=B(i,s),e){n=i,o=s;break}}M(e,`Prefixless address ${t} does not have valid checksum for any valid prefix (${I.join(", ")})`)}else M(2===r.length,"Invalid address: "+t+"."),n=r[0],o=b.decode(r[1]),M(B(n,o),"Invalid checksum: "+t+".");var i,s=(i=o.subarray(0,-8),E(i,5,8,!0)),a=s[0],u=s.subarray(1);M(function(t){switch(7&t){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}(a)===8*u.length,"Invalid hash size: "+t+".");var p=function(t){switch(120&t){case 0:return"P2PKH";case 8:return"P2SH";default:throw new q("Invalid address type in version byte: "+t+".")}}(a);return{prefix:n,type:e?p.toLowerCase():p,hash:e?k(u):u}}var q=x.ValidationError,I=["ergon","ecash","bitcoincash","simpleledger","etoken","ectest","ecregtest","bchtest","bchreg"],N=["ergon","ecash","bitcoincash","simpleledger","etoken"];function O(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r)e[r]=31&t[r].charCodeAt(0);return e}function L(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function P(t){for(var e=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=A(1),n=0;n<t.length;++n){var o=t[n],i=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(o);for(var s=0;s<e.length;++s)i.shiftRight(s).and(1).equals(1)&&(r=r.xor(e[s]))}return r.xor(1)}function B(t,e){var r=L(O(t),new Uint8Array(1));return P(L(r,e)).equals(0)}function C(t){return t===t.toLowerCase()||t===t.toUpperCase()}function k(t){let e=[];for(let r=0;r<t.length;r+=1)e.push(t[r]);return Buffer.from(e,"hex").toString("hex")}function H(t){const e="76a914",r="88ac",n="a914";let o,i;if(t.slice(0,6)===e&&t.slice(-4)===r)i="P2PKH",o=t.substring(t.indexOf(e)+6,t.lastIndexOf(r));else{if(t.slice(0,4)!==n||"87"!==t.slice(-2))throw new q("Unsupported outputScript: "+t);i="P2SH",o=t.substring(t.indexOf(n)+4,t.lastIndexOf("87"))}if(![20,24,28,32,40,48,56,64].includes(o.length/2))throw new q("Invalid hash size in outputScript: "+t);return{type:i,hash:o}}t.exports={encode:S,decode:U,uint8arraytoString:k,encodeOutputScript:function(t,e="ergon"){const{type:r,hash:n}=H(t);return S(e,r,n)},getTypeAndHashFromOutputScript:H,toLegacy:function(t){const{prefix:e,type:r,hash:n}=U(t),o=N.includes(e);let i;switch(r){case"P2PKH":i=o?0:111;break;case"P2SH":i=o?5:196;break;default:throw new q("Unsupported address type: "+r)}var s=Buffer.alloc(1+n.length);return s[0]=i,s.set(n,1),m.encode(s)},ValidationError:q}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}return r.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r(767)})()));